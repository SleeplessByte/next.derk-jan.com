@import "tailwindcss" source("../");
@plugin "@tailwindcss/typography";

:root {
  scroll-padding-top: 32px;
}

/* latin-ext */
@font-face {
  font-family: "Alan Sans";
  font-style: normal;
  font-weight: 300 900;
  font-display: swap;
  src:
    url("/fonts/AlanSans-VariableFont_wght.ext.woff2") format("woff2"),
    url("/fonts/AlanSans-VariableFont_wght.ttf") format("truetype");
  unicode-range:
    U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304,
    U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB,
    U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
/* latin */
@font-face {
  font-family: "Alan Sans";
  font-style: normal;
  font-weight: 300 900;
  font-display: swap;
  src:
    url("/fonts/AlanSans-VariableFont_wght.woff2") format("woff2"),
    url("/fonts/AlanSans-VariableFont_wght.ttf") format("truetype");
  unicode-range:
    U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212,
    U+2215, U+FEFF, U+FFFD;
}

@theme {
  --font-sans:
    "Alan Sans", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  --animate-bouncel: bouncel 1s infinite;
  --animate-bounceb: bounceb 1s infinite;
}

@import "./imported";

.astro-code {
  @apply border dark:border-0 !bg-zinc-900 text-zinc-50 dark:!bg-black/30 shadow-sm leading-6 sm:leading-6 md:leading-7 overflow-auto max-w-full max-h-[80%];

  &[data-language] {
    @apply flex flex-col relative pt-12;

    @apply before:absolute before:left-0 before:w-full before:top-0 before:block
           before:pt-2 before:pb-2 before:px-5 before:bg-black/30 before:text-zinc-100
           before:text-xs before:font-semibold
           before:rounded-tl-md before:rounded-tr-md
           before:content-[attr(data-language)];
  }

  &:has(.highlighted) {
    &:focus .line:not(.highlighted) {
      opacity: 1;
    }

    & .line:not(.highlighted):not(:has(.highlighted-word)) {
      opacity: 0.75;

      &:hover {
        opacity: 1;
      }
    }
  }

  &:has(.highlighted-word) {
    & .line > :not(.highlighted-word) {
      opacity: 0.75;
      @apply grayscale-50;
    }

    & .line:hover,
    &:focus .line {
      &,
      & > :not(.highlighted-word) {
        opacity: 1;
      }
    }
  }

  & .highlighted {
    background-color: rgba(0, 0, 0, 0.5);
    transition: background-color 0.5s;
    opacity: 1;

    &.line {
      width: calc(100% + 48px);
      display: inline-block;
      margin: 0px -24px;
      padding: 0px 24px;
    }
  }

  & .highlighted-word {
    background-color: rgba(0, 0, 0, 0.5);
    transition: background-color 0.5s;
    opacity: 1;
  }
}

.article img {
  @apply rounded-xl shadow-md dark:shadow-2xl bg-white dark:bg-zinc-950;
}

body:has(.fixed-slides) {
  @apply bg-zinc-100 dark:bg-zinc-950;
}

.fixed-slides {
  @apply p-2 md:p-8 xl:p-12 max-h-dvh box-border max-w-dvw  aspect-video overflow-hidden min-w-0 min-h-0;
  @apply m-auto flex flex-col;

  & .slide {
    @apply m-auto overflow-auto rounded-lg box-border;
    @apply border-4 border-solid border-zinc-200 dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-900;
    @apply shadow-lg dark:shadow-zinc-800/25;
    @apply flex-1 relative;

    @apply flex;

    height: auto;
    width: 100%;
    aspect-ratio: 16/9;

    & footer {
      & a[rel="next"],
      & a[rel="prev"] {
        @apply block bg-zinc-50/95 dark:bg-zinc-900/95 shadow-md hover:shadow-sm active:shadow-none transition  rounded-l-lg;

        & > svg {
          @apply size-6 m-3 group-hover:animate-bouncel group-focus:animate-bouncel;
        }
      }
    }
  }
}
