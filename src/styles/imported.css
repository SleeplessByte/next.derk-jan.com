:root {
  color-scheme: light dark;
}

@layer base {
  body {
    @apply bg-zinc-50 dark:bg-zinc-900;
    @apply text-zinc-900 dark:text-zinc-100;
  }

  a {
    @apply transition-colors;
  }

  a:link:not(.unstyled-link),
  a:visited:not(.unstyled-link) {
    --tw-prose-links: light-dark(
      theme(--color-pink-600),
      theme(--color-orange-400)
    );

    @apply text-pink-600 dark:text-orange-400;
  }

  .light a:link:not(.unstyled-link),
  .light a:visited:not(.unstyled-link) {
    --tw-prose-links: light-dark(
      theme(--color-pink-600),
      theme(--color-pink-600)
    );

    @apply dark:text-pink-600;
  }

  a:link:not(.no-underline):not(.unstyled-link),
  a:visited:not(.no-underline):not(.unstyled-link) {
    @apply underline;
  }

  a:hover:not(.unstyled-link),
  a:focus:not(.unstyled-link) {
    --tw-prose-links: light-dark(
      theme(--color-pink-700),
      theme(--color-orange-300)
    );

    @apply text-pink-700 dark:text-orange-300;
  }

  .light a:hover:not(.unstyled-link),
  .light a:focus:not(.unstyled-link) {
    --tw-prose-links: light-dark(
      theme(--color-pink-700),
      theme(--color-pink-700)
    );

    @apply dark:text-pink-700;
  }

  a:hover:not(.unstyled-link),
  a:active:not(.unstyled-link) {
    @apply no-underline;
  }

  a:active:not(.unstyled-link) {
    --tw-prose-links: light-dark(
      theme(--color-orange-700),
      theme(--color-pink-400)
    );

    @apply text-orange-700 dark:text-pink-400;
  }

  .light a:active:not(.unstyled-link) {
    --tw-prose-links: light-dark(
      theme(--color-orange-700),
      theme(--color-orange-700)
    );

    @apply dark:text-orange-700;
  }

  .fix-outline-none .outline-none {
    @apply transition focus:ring-2 focus:ring-current;
  }

  :not(pre) > code[class*="language-"] {
    padding: 0.1em;
    border-radius: 0.3em;
  }

  code[class*="language-"] {
    font-family:
      Consolas,
      Menlo,
      Monaco,
      Andale Mono WT,
      Andale Mono,
      Lucida Console,
      Lucida Sans Typewriter,
      DejaVu Sans Mono,
      Bitstream Vera Sans Mono,
      Liberation Mono,
      Nimbus Mono L,
      Courier New,
      Courier,
      monospace;
    font-size: 14px;
    line-height: 1.375;
    direction: ltr;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    tab-size: 4;
    hyphens: none;
  }
}

@layer components {
  html,
  body {
    /* scroll-snap-type: y mandatory; */
    @apply motion-safe:scroll-smooth;
  }

  .slides {
    @apply min-h-screen flex flex-col;
  }

  .slides > section {
    @apply w-full h-screen snap-start;
    @apply flex flex-col items-center mt-12 md:mt-0 md:justify-center;
    @apply p-3 sm:p-4 lg:p-6;
    @apply relative;
  }

  .slides > section:nth-of-type(even) {
    @apply bg-zinc-100 dark:bg-zinc-800;
  }

  .slides > section:nth-of-type(odd) {
    @apply bg-zinc-50 dark:bg-zinc-900;
  }

  .slides p {
    @apply max-w-md sm:max-w-lg md:max-w-xl;
  }

  .toggle__input {
    @apply relative flex items-center;
  }

  .toggle__input > .toggle__background {
    @apply bg-zinc-200 dark:bg-black/50;
    @apply relative inline-flex flex-shrink-0 h-6 w-11;
    @apply border-2 border-transparent rounded-full;
    @apply transition-colors ease-in-out duration-200;

    @apply cursor-pointer;
  }

  .toggle__input > .toggle__handle {
    @apply absolute left-0.5 translate-x-0;
    @apply pointer-events-none inline-block h-5 w-5 rounded-full;
    @apply bg-white shadow transform ring-0 transition ease-in-out duration-200;
  }

  .toggle {
    @apply max-w-full flex flex-col;
  }

  .toggle > input[type="checkbox"] {
    /* nothing */
  }

  .toggle > .peer:focus ~ .toggle__label .toggle__background {
    @apply ring-2 ring-offset-2 ring-pink-500;
  }

  .toggle > .peer:checked ~ .toggle__label .toggle__background {
    @apply bg-pink-600 dark:bg-pink-600;
  }

  .toggle > .peer:checked ~ .toggle__label .toggle__handle {
    @apply translate-x-5;
  }

  .toggle__label {
    @apply ml-3 text-sm font-medium text-zinc-900 dark:text-zinc-50;
  }

  .toggle > .peer ~ .toggle__on {
    @apply hidden;
  }

  .toggle > .peer ~ .toggle__off {
    @apply block;
  }

  .toggle > .peer:checked ~ .toggle__on {
    @apply block;
  }

  .toggle > .peer:checked ~ .toggle__off {
    @apply hidden;
  }
}

.embeddable-buttondown-form {
  @apply bg-white dark:bg-zinc-800;
  border-radius: 6px;
  padding: 16px;
  display: flex;
  flex-wrap: wrap;
  border-bottom: 2px solid rgba(0, 0, 0, 0.2);
}

.embeddable-buttondown-form label {
  @apply mt-4 mb-1;

  font-weight: 100;
  font-size: 20px;
  flex: 0 0 100%;
}

.embeddable-buttondown-form input[type="email"] {
  @apply bg-zinc-100 dark:bg-zinc-900;
  color: var(--textNormal);
  font-weight: 400;
  margin-right: auto;
  width: 300px;
  max-width: 100%;
  height: 36px;
  padding: 4px 8px;
  border-radius: 4px;
  border: 0;
  margin-bottom: 4px;
}

.embeddable-buttondown-form input[type="submit"] {
  @apply bg-pink-600 dark:bg-yellow-400;
  @apply text-white dark:text-zinc-900;

  border: 0;
  border-radius: 4px;
  padding: 4px 16px;
  margin: 0 0 4px;
}

.prose ul > :where(li):not(:where([class~="not-prose"] *)),
.prose ol > :where(li):not(:where([class~="not-prose"] *)) {
  margin-top: 0.25rem !important;
  margin-bottom: 0.25rem !important;
}

.progress-bar {
  @apply fixed block top-0 left-0 h-[3px] bg-pink-600/90 dark:bg-yellow-400/90 drop-shadow-sm;
  z-index: 2147483647;
  transition:
    width 300ms ease-out,
    opacity 150ms 150ms ease-in;
  transform: translate3d(0, 0, 0);
}
